@using System
@using System.Linq
@using System.Collections.Generic
@using Nancy.Security
@using SmartHomeWeb
@using SmartHomeWeb.Model
@using Nancy.ViewEngines.Razor
@* Model is a sequence of (SensorId, StartTime, EndTime, MaxMeasurements) tuples *@
@inherits NancyRazorViewBase<IEnumerable<AutofitRange>>

@{
    this.Layout = "basic-layout.cshtml";
}

@Html.Partial("graph-control.cshtml")

<script>
@foreach (var tuple in Model)
{
    <text>measurementsGraph.chartDesc.addRange(new AutofitRange(
        @tuple.SensorId, new Date("@tuple.StartTime"),
        new Date("@tuple.EndTime"), @tuple.MaxMeasurements));</text>
}
</script>
